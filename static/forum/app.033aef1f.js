(function(t){function e(e){for(var s,r,o=e[0],c=e[1],u=e[2],p=0,d=[];p<o.length;p++)r=o[p],a[r]&&d.push(a[r][0]),a[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);l&&l(e);while(d.length)d.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],s=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(s=!1)}s&&(i.splice(e--,1),t=r(r.s=n[0]))}return t}var s={},a={app:0},i=[];function r(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=s,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(n,s,function(e){return t[e]}.bind(null,s));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"01e1":function(t,e,n){"use strict";var s=n("38ac"),a=n.n(s);a.a},"0645":function(t,e,n){"use strict";var s=n("9d92"),a=n.n(s);a.a},3605:function(t,e,n){},"38ac":function(t,e,n){},"3dd9":function(t,e,n){},"4f87":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var s=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("canvas",{attrs:{id:"bg"}}),n("header-bar"),n("transition",{attrs:{name:"changepage",mode:"out-in"}},[n("router-view",{staticClass:"content"})],1)],1)},i=[],r=(n("6c7b"),n("d225")),o=n("b0b4");function c(t,e){var n=function(){function t(e,n,s){Object(r["a"])(this,t),this.x=e,this.y=n,this.r=s||3,this.mx=2*Math.random()-1,this.my=2*Math.random()-1,this.lineColor="#ddd",this.color="#ddd"}return Object(o["a"])(t,[{key:"draw",value:function(){i.beginPath(i),i.arc(this.x,this.y,this.r,0,360),i.closePath,i.fillStyle=this.color,i.fill()}},{key:"drawcurrent",value:function(){i.beginPath(),i.arc(this.x,this.y,this.r,0,360),i.closePath,i.fillStyle=this.color,i.fill()}},{key:"move",value:function(){this.mx=this.x>0&&this.x<u?this.mx:-this.mx,this.my=this.y>0&&this.y<l?this.my:-this.my,this.x+=this.mx/2,this.y+=this.my/2}},{key:"line",value:function(t){var e=this.x-t.x,n=this.y-t.y,s=Math.sqrt(e*e+n*n);s<150&&(i.beginPath(),i.moveTo(this.x,this.y),i.lineTo(t.x,t.y),i.lineWidth=1,i.strokeStyle=this.lineColor,i.stroke(),i.closePath())}}]),t}();function s(){i.clearRect(0,0,u,l);for(var t=0;t<c.length;t++){c[t].draw();for(var e=0;e<c.length;e++)c[t].line(c[e]);c[t].move()}for(var n=0;n<c.length;n++)v.line(c[n]);return requestAnimationFrame(s)}var a=document.getElementById(t),i=a.getContext("2d"),c=[];a.width=1*a.offsetWidth,a.height=1*a.offsetHeight;for(var u=a.width,l=a.height,p=0;p<e;p++){var d=new n(Math.random()*u,Math.random()*l);c.push(d)}var v=new n(0,0,3);return a.addEventListener("mousemove",function(t){v.x=1*t.offsetX,v.y=1*t.offsetY}),s()}var u=c,l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header-bar"},[t.userId?n("div",{staticClass:"login-resign-btn",on:{click:t.goUserCenter}},[t._v(t._s(t.userName))]):n("div",{staticClass:"login-resign-btn",on:{click:t.showLoginBox}},[t._v("登录/注册")]),n("login",{staticClass:"login",attrs:{show:t.showLogin},on:{closeEvent:t.closeLogin}})],1)},p=[],d=n("cebc"),v=n("2f62"),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"changepage",mode:"out-in"}},[t.show?n("div",{staticClass:"login-warp"},[n("div",{staticClass:"login-box"},[n("span",{staticClass:"close-btn",on:{click:t.close}},[t._v("关闭")]),n("h2",{staticClass:"title"},[t._v("论坛登录")]),n("div",{staticClass:"account-box"},[n("span",{staticClass:"account-title"},[t._v("帐号：")]),n("div",{staticClass:"input-warp",class:{focus:t.focusAccount}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.account,expression:"account"}],staticClass:"account-input",attrs:{type:"text"},domProps:{value:t.account},on:{focus:function(e){t.focusAccount=!0},blur:function(e){t.focusAccount=!1},input:function(e){e.target.composing||(t.account=e.target.value)}}})])]),n("div",{staticClass:"password-box"},[n("span",{staticClass:"password-title"},[t._v("密码：")]),n("div",{staticClass:"input-warp",class:{focus:t.focusPassword}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"password-input",attrs:{type:"password"},domProps:{value:t.password},on:{focus:function(e){t.focusPassword=!0},blur:function(e){t.focusPassword=!1},input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),n("div",{staticClass:"login-btn",on:{click:t.login}},[t._v("登录")]),n("div",{staticClass:"more"},[n("span",{staticClass:"register",on:{click:t.goRegister}},[t._v("注册")]),n("span",{staticClass:"forget"},[t._v("忘记密码")])])])]):t._e()])},m=[],h=(n("7f7f"),n("96cf"),n("3b8d")),g=n("bc3a"),w=n.n(g),_=window.localStorage.getItem("access_token");w.a.defaults.headers.common["access_token"]=_;var C=w.a,b="//39.108.174.110/api/v1",x={getTopicList:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,C.get(b+"/topic");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}return e}(),getPostList:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e,n=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:0,t.next=3,C.get(b+"/post?topicId=".concat(e));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}return e}(),login:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e,n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,C.post(b+"/login",{account:e,password:n});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}));function e(e,n){return t.apply(this,arguments)}return e}(),register:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e,n,s,a,i){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,C.post(b+"/user",{account:e,password:n,confirmPassword:s,name:a,sex:i});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}));function e(e,n,s,a,i){return t.apply(this,arguments)}return e}(),createPost:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e,n,s){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,C.post(b+"/post",{topicId:e,title:n,content:s});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}));function e(e,n,s){return t.apply(this,arguments)}return e}(),upload:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,C.post(b+"/upload",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),postDetail:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,C.get(b+"/post/".concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}()},y={name:"login",props:["show"],mounted:function(){},data:function(){return{account:"",password:"",focusAccount:!1,focusPassword:!1}},methods:{close:function(){this.$emit("closeEvent",!1)},login:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.login(this.account,this.password);case 3:e=t.sent,200!=e.data.code?alert(e.data.message):(alert("登录成功"),this.$store.commit("login",{id:e.data.data.id,name:e.data.data.name}),window.localStorage.setItem("access_token",e.data.data.token),this.close()),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),alert(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));function e(){return t.apply(this,arguments)}return e}(),goRegister:function(){this.close(),this.$router.push({path:"/register"})}}},k=y,P=(n("91eb"),n("2877")),j=Object(P["a"])(k,f,m,!1,null,"aa9ab9de",null),O=j.exports,R={components:{login:O},data:function(){return{showLogin:!1}},computed:Object(d["a"])({},Object(v["b"])(["userId","userName"])),methods:{showLoginBox:function(){this.showLogin=!0},closeLogin:function(){this.showLogin=!1},goUserCenter:function(){this.$router.push({path:"/user/".concat(this.userId,"/info")})}}},L=R,$=(n("736e"),Object(P["a"])(L,l,p,!1,null,"4fc6e1a7",null)),E=$.exports,T={name:"App",components:{HeaderBar:E},mounted:function(){u("bg",80)}},N=T,I=(n("c9da"),Object(P["a"])(N,a,i,!1,null,"2f7f2ee1",null)),S=I.exports,M=n("8c4f"),A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"index"},[n("topic-tab",{attrs:{"topic-list":t.topicList},on:{select:t.selectTab}}),n("div",{staticClass:"post-list-box"},[n("div",{staticClass:"header"},[n("div",{staticClass:"title"},[t._v(t._s(t.selectTabTitle))]),n("span",{staticClass:"post-btn",on:{click:t.createPost}},[t._v("发帖")])]),n("div",{staticClass:"post-list"},t._l(t.postList,function(e){return n("div",{key:e.id,staticClass:"post-item",on:{click:function(n){return t.read(e.id)}}},[n("div",{staticClass:"first"},[n("div",{staticClass:"topic"},[t._v(t._s(e.topic.title))]),n("div",{staticClass:"user"},[t._v(t._s(e.user.name))])]),n("div",{staticClass:"title"},[t._v(t._s(e.title))]),n("div",{staticClass:"last"},[n("div",{staticClass:"like"},[t._v("赞:"+t._s(e.like_count))]),n("div",{staticClass:"collect-count"},[t._v("收藏数："+t._s(e.collect_count))]),n("div",{staticClass:"time"},[t._v("时间："+t._s(e.updated_at))])])])}),0)])],1)},B=[],D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"topic-tab"},[n("div",{staticClass:"header"},[t._v("主题分类")]),n("div",{staticClass:"topic-list"},[n("div",{staticClass:"topic-item",on:{click:function(e){return t.select({id:0,title:"热门推荐"})}}},[t._v("热门推荐")]),t._l(t.topicList,function(e){return n("div",{key:e.id,staticClass:"topic-item",on:{click:function(n){return t.select(e)}}},[t._v(t._s(e.title))])})],2)])},H=[],U={name:"topic-tab",props:["topicList"],methods:{select:function(t){this.$emit("select",t)}}},q=U,F=(n("a152"),Object(P["a"])(q,D,H,!1,null,"4417e849",null)),J=F.exports,W={components:{TopicTab:J},data:function(){return{topicList:[],postList:[],selectTabTitle:"热门推荐"}},mounted:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.getTopicList();case 3:return e=t.sent,this.topicList=e.data.data.rows,t.next=7,x.getPostList();case 7:n=t.sent,this.postList=n.data.data.rows,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),alert(t.t0);case 14:case"end":return t.stop()}},t,this,[[0,11]])}));function e(){return t.apply(this,arguments)}return e}(),methods:{selectTab:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.selectTabTitle=e.title,console.log(e.id),t.prev=2,t.next=5,x.getPostList(e.id);case 5:n=t.sent,this.postList=n.data.data.rows,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),alert(t.t0);case 12:case"end":return t.stop()}},t,this,[[2,9]])}));function e(e){return t.apply(this,arguments)}return e}(),createPost:function(){this.$store.state.userId?this.$router.push({path:"/post"}):alert("请登录")},read:function(t){this.$router.push({path:"/post/"+t})}}},z=W,X=(n("e981"),Object(P["a"])(z,A,B,!1,null,"48084c37",null)),Y=X.exports,G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"register-page"},[n("div",{staticClass:"title"},[t._v("用户注册")]),n("div",{staticClass:"line"}),n("div",{staticClass:"info-list"},[n("div",{staticClass:"info-item"},[n("span",{staticClass:"info-title"},[t._v("帐号：")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.account,expression:"account"}],staticClass:"info-input",attrs:{type:"text"},domProps:{value:t.account},on:{input:function(e){e.target.composing||(t.account=e.target.value)}}})]),n("div",{staticClass:"info-item"},[n("span",{staticClass:"info-title"},[t._v("昵称：")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"info-input",attrs:{type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),n("div",{staticClass:"info-item"},[n("span",{staticClass:"info-title"},[t._v("密码：")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"info-input",attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),n("div",{staticClass:"info-item"},[n("span",{staticClass:"info-title"},[t._v("确认密码：")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmPassword,expression:"confirmPassword"}],staticClass:"info-input",attrs:{type:"password"},domProps:{value:t.confirmPassword},on:{input:function(e){e.target.composing||(t.confirmPassword=e.target.value)}}})]),n("div",{staticClass:"info-item"},[n("span",{staticClass:"info-title"},[t._v("性别：")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.sex,expression:"sex"}],staticClass:"info-input",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.sex=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"0"}},[t._v("男")]),n("option",{attrs:{value:"1"}},[t._v("女")]),n("option",{attrs:{value:"2"}},[t._v("保密")])])])]),n("div",{staticClass:"register-btn",on:{click:t.register}},[t._v("注册")])])},K=[],Q={data:function(){return{account:"",name:"",password:"",confirmPassword:"",sex:"2"}},methods:{register:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.register(this.account,this.password,this.confirmPassword,this.name,this.sex);case 3:e=t.sent,200!=e.data.code?alert(e.data.message):alert("注册成功"),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),alert(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));function e(){return t.apply(this,arguments)}return e}()}},V=Q,Z=(n("c807"),Object(P["a"])(V,G,K,!1,null,"8eace16c",null)),tt=Z.exports,et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"user-center"},[n("div",{staticClass:"title"},[t._v("个人中心")]),n("div",{staticClass:"line"}),n("div",{staticClass:"tab-list"},[n("div",{staticClass:"item",on:{click:function(e){return t.detail("info")}}},[t._v("个人信息")]),n("div",{staticClass:"item",on:{click:function(e){return t.detail("follow")}}},[t._v("我的关注")]),n("div",{staticClass:"item",on:{click:function(e){return t.detail("fans")}}},[t._v("我的粉丝")]),n("div",{staticClass:"item",on:{click:function(e){return t.detail("collection")}}},[t._v("我的收藏")])]),n("router-view",{staticClass:"content"})],1)},nt=[],st={props:["id"],data:function(){return{}},methods:{detail:function(t){this.$router.push({path:"/user/".concat(this.id,"/").concat(t)})}}},at=st,it=(n("759d"),Object(P["a"])(at,et,nt,!1,null,"a21da9d8",null)),rt=it.exports,ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"user-info"},[n("div",{staticClass:"info-list"},[n("div",{staticClass:"info-item"},[n("span",{staticClass:"info-title"},[t._v("帐号：")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.account,expression:"account"}],staticClass:"info-input",attrs:{type:"text",disabled:!t.isEdit},domProps:{value:t.account},on:{input:function(e){e.target.composing||(t.account=e.target.value)}}})]),n("div",{staticClass:"info-item"},[n("span",{staticClass:"info-title"},[t._v("昵称：")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"info-input",attrs:{type:"text",disabled:!t.isEdit},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),n("div",{staticClass:"info-item"},[n("span",{staticClass:"info-title"},[t._v("性别：")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.sex,expression:"sex"}],staticClass:"info-input",attrs:{disabled:!t.isEdit},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.sex=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"0"}},[t._v("男")]),n("option",{attrs:{value:"1"}},[t._v("女")]),n("option",{attrs:{value:"2"}},[t._v("保密")])])]),t.isEdit?n("div",{staticClass:"save-btn",on:{click:t.save}},[t._v("保存")]):n("div",{staticClass:"edit-btn",on:{click:t.edit}},[t._v("修改")])])])},ct=[],ut={data:function(){return{account:"asdhj",name:"asdsa",sex:"2",isEdit:!1}},methods:{edit:function(){this.isEdit=!0},save:function(){this.isEdit=!1}}},lt=ut,pt=(n("0645"),Object(P["a"])(lt,ot,ct,!1,null,"3e4a2686",null)),dt=pt.exports,vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"user-follow"},[t._v("我的关注")])},ft=[],mt={},ht=mt,gt=Object(P["a"])(ht,vt,ft,!1,null,null,null),wt=gt.exports,_t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"user-fans"},[t._v("我的粉丝")])},Ct=[],bt={},xt=bt,yt=Object(P["a"])(xt,_t,Ct,!1,null,null,null),kt=yt.exports,Pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"user-collection"},[t._v("我的收藏")])},jt=[],Ot={},Rt=Ot,Lt=Object(P["a"])(Rt,Pt,jt,!1,null,null,null),$t=Lt.exports,Et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"create-post"},[n("div",{staticClass:"title"},[t._v("发布帖子")]),n("div",{staticClass:"title-warp"},[n("span",[t._v("标题：")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"input",attrs:{type:"text",placeholder:"输入标题..."},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),n("div",{staticClass:"topic-warp"},[n("span",[t._v("主题：")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.topic,expression:"topic"}],staticClass:"input",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.topic=e.target.multiple?n:n[0]}}},t._l(t.topicList,function(e){return n("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.title))])}),0)]),t._m(0),n("div",{staticClass:"submit-btn",on:{click:t.submit}},[t._v("发布")])])},Tt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"editor-warp"},[n("div",{attrs:{id:"editor-tool"}}),n("div",{attrs:{id:"editor"}})])}],Nt=n("1a0b"),It=n.n(Nt),St={data:function(){return{topicList:[],title:"",topic:"",content:""}},beforeRouteEnter:function(t,e,n){n(function(t){t.$store.state.userId||t.$router.push({path:"/"})})},mounted:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e,n,s=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=new It.a("#editor-tool","#editor"),e.customConfig.uploadImgMaxSize=2097152,e.customConfig.onchange=function(t){s.content=t},e.customConfig.customUploadImg=function(t,e){var n=new FormData;n.append("file",t[0]),x.upload(n).then(function(t){e(t.data.data[0])})},e.customConfig.customAlert=function(t){alert("上传错误："+t)},e.create(),e.txt.html(this.content),t.prev=7,t.next=10,x.getTopicList();case 10:n=t.sent,this.topicList=n.data.data.rows,t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](7),alert(t.t0);case 17:case"end":return t.stop()}},t,this,[[7,14]])}));function e(){return t.apply(this,arguments)}return e}(),methods:{submit:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.createPost(this.topic,this.title,this.content);case 3:e=t.sent,200!=e.data.code?alert("发帖失败"+e.data.message):(alert("发帖成功！"),this.$router.push({path:"/"})),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),alert(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));function e(){return t.apply(this,arguments)}return e}()}},Mt=St,At=(n("01e1"),Object(P["a"])(Mt,Et,Tt,!1,null,null,null)),Bt=At.exports,Dt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"post-detail"},[n("div",{staticClass:"title"},[t._v(t._s(t.post&&t.post.title))]),n("div",{staticClass:"middle"},[n("div",{staticClass:"type"},[t._v("主题："+t._s(t.post&&t.post.topic.title))]),n("div",{staticClass:"author"},[t._v("作者："+t._s(t.post&&t.post.user.name))])]),n("div",{staticClass:"foot"},[n("div",{staticClass:"time"},[t._v("时间："+t._s(t.post&&t.post.created_at))]),n("div",{staticClass:"like"},[t._v("赞:"+t._s(t.post&&t.post.like_count))]),n("div",{staticClass:"collection"},[t._v("收藏："+t._s(t.post&&t.post.collect_count))])]),n("div",{staticClass:"content",domProps:{innerHTML:t._s(t.post&&t.post.content)}})])},Ht=[],Ut={props:["id"],data:function(){return{post:null}},mounted:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.postDetail(this.id);case 3:e=t.sent,200!=e.data.code?alert(e.data.message):this.post=e.data.data,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),alert(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));function e(){return t.apply(this,arguments)}return e}()},qt=Ut,Ft=(n("a28e"),Object(P["a"])(qt,Dt,Ht,!1,null,null,null)),Jt=Ft.exports;s["a"].use(M["a"]);var Wt=new M["a"]({routes:[{path:"/",name:"indexPage",component:Y},{path:"/register",name:"registerPage",component:tt},{path:"/user/:id",name:"userCenter",component:rt,props:!0,children:[{path:"info",component:dt},{path:"follow",component:wt},{path:"fans",component:kt},{path:"collection",component:$t}]},{path:"/post",name:"createPost",component:Bt},{path:"/post/:id",name:"postDetail",component:Jt,props:!0}]});s["a"].use(v["a"]);var zt=new v["a"].Store({state:{userId:"",userName:""},mutations:{login:function(t,e){t.userId=e.id,t.userName=e.name}},actions:{}});n("4f87");s["a"].config.productionTip=!1,new s["a"]({router:Wt,store:zt,render:function(t){return t(S)}}).$mount("#app")},"5e10":function(t,e,n){},"5e78":function(t,e,n){},6911:function(t,e,n){},"736e":function(t,e,n){"use strict";var s=n("3605"),a=n.n(s);a.a},"759d":function(t,e,n){"use strict";var s=n("3dd9"),a=n.n(s);a.a},"8a28":function(t,e,n){},"91eb":function(t,e,n){"use strict";var s=n("8a28"),a=n.n(s);a.a},"9d92":function(t,e,n){},a152:function(t,e,n){"use strict";var s=n("c95c"),a=n.n(s);a.a},a28e:function(t,e,n){"use strict";var s=n("e752"),a=n.n(s);a.a},c807:function(t,e,n){"use strict";var s=n("5e78"),a=n.n(s);a.a},c95c:function(t,e,n){},c9da:function(t,e,n){"use strict";var s=n("5e10"),a=n.n(s);a.a},e752:function(t,e,n){},e981:function(t,e,n){"use strict";var s=n("6911"),a=n.n(s);a.a}});
//# sourceMappingURL=app.033aef1f.js.map